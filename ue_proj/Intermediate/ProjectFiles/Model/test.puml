@startuml
'https://plantuml.com/object-diagram
allow_mixing

title Metrics System

component DT_Metrics
note top: List of Gameplay Tags used as names

enum MetricType {
CONSTANT
REGENERATIVE
}
note right of MetricType::CONSTANT
Value represent a characteristic of the character 
that doesn't change in time except by external events
like upgrading the character, or using items
(like strength, agility, etc.)
end note
note right of MetricType::REGENERATIVE
Value represent an state of the character 
that can rapidly change in time 
incrementing or decrementing
(like health, stamina, etc.)
end note

Struct Metric {
    + GameplayTag Name
    + MetricType Type
    + int Value
    + int MaxValue
    + int MinValue
}
class MetricsCalculationBrain {
    
} 
note right: Handles changes in metrics, \nby doing all the calculations.

class CharMetricsComponent {
    + List<Metric> Metrics
    + GetMetricValue(in string metricName) : float
    + GetMetricMaxValue(in string metricName) : float
    
    + SetMetricValue(string metricName, int newValue)
    + SetMetricMaxValue(string metricName, int newMaxValue)
    
    + ModifyMetricValue(string metricName, int valueMod)
    
    + StartMetricRegeneration(string metricName, int regenRate, bool unregen)
    + StopMetricRegeneration(string metricName)
}
note right: Calls changes in metrics, \nbut not the behaviours \nrelated to those changes

class MetricsFunctionLibrary {
    
}

class DMVCMS_Character {
    + CharMetricsComponent CMC
}

MetricsCalculationBrain <---> CharMetricsComponent
CharMetricsComponent "1" *-- DMVCMS_Character : contains
MetricsFunctionLibrary -> CharMetricsComponent : Is there a CMC? Then call some method.

@enduml